# React合成事件
按自己的理解，整理了关于react事件合成容易被遗忘的知识点。

## 为什么react需要实现自己的事件机制
1、首先，对于不同的浏览器，对事件存在不同的兼容性，React 想实现一个兼容全浏览器的框架， 为了实现这个目标就需要创建一个兼容全浏览器的事件系统，以此抹平不同浏览器的差异。

2、v17 之前 React 事件都是绑定在 document 上，v17 之后 React 把事件绑定在应用对应的容器 container 上，将事件绑定在同一容器统一管理，防止很多事件直接绑定在原生的 DOM 元素上造成一些不可控的情况，由于不是绑定在真实的 DOM 上，所以 React 需要模拟一套事件流：事件捕获-> 事件源 -> 事件冒泡，也包括重写一下事件源对象 event 。


一开始（V16）事件合成的最终绑定是把事件注册在document上，但后来修改为注册到rootContainer，这样做的原因是：这样更利于一个 html下存在多个应用（微前端）

## 事件合成执行流程

![](https://image.jianfengke.com/kbreact%E5%90%88%E6%88%90%E4%BA%8B%E4%BB%B6.png)